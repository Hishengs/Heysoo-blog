!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.toMarkdown=a()}}(function(){return function d(a,b,c){function e(g,h){var i,j,k;if(!b[g]){if(!a[g]){if(i="function"==typeof require&&require,!h&&i)return i(g,!0);if(f)return f(g,!0);throw j=new Error("Cannot find module '"+g+"'"),j.code="MODULE_NOT_FOUND",j}k=b[g]={exports:{}},a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,d,a,b,c)}return b[g].exports}var g,f="function"==typeof require&&require;for(g=0;g<c.length;g++)e(c[g]);return e}({1:[function(a,b){"use strict";function k(a){return a.replace(/^[ \r\n\t]+|[ \r\n\t]+$/g,"")}function m(a){return-1!==l.indexOf(a.nodeName.toLowerCase())}function o(a){return-1!==n.indexOf(a.nodeName.toLowerCase())}function p(){var a=i.DOMParser,b=!1;try{(new a).parseFromString("","text/html")&&(b=!0)}catch(c){}return b}function q(){var a=function(){};return a.prototype.parseFromString=function(a){var b=j.implementation.createHTMLDocument("");return a.toLowerCase().indexOf("<!doctype")>-1?b.documentElement.innerHTML=a:b.body.innerHTML=a,b},a}function s(a){var b=(new r).parseFromString(a,"text/html");return h(b,m),b}function t(a){for(var d,e,f,b=[a],c=[];b.length>0;)for(d=b.shift(),c.push(d),e=d.childNodes,f=0;f<e.length;f++)1===e[f].nodeType&&b.push(e[f]);return c.shift(),c}function u(a){var c,b="";for(c=0;c<a.childNodes.length;c++)if(1===a.childNodes[c].nodeType)b+=a.childNodes[c]._replacement;else{if(3!==a.childNodes[c].nodeType)continue;b+=a.childNodes[c].data}return b}function v(a,b){return a.cloneNode(!1).outerHTML.replace("><",">"+b+"<")}function w(a,b){if("string"==typeof b)return b===a.nodeName.toLowerCase();if(Array.isArray(b))return-1!==b.indexOf(a.nodeName.toLowerCase());if("function"==typeof b)return b.call(d,a);throw new TypeError("`filter` needs to be a string, array, or function")}function x(a,b){var c,d,e;return"left"===a?(c=b.previousSibling,d=/ $/):(c=b.nextSibling,d=/^ /),c&&(3===c.nodeType?e=d.test(c.nodeValue):1!==c.nodeType||m(c)||(e=d.test(c.textContent))),e}function y(a){var d,e,b="",c="";return m(a)||(d=/^[ \r\n\t]/.test(a.innerHTML),e=/[ \r\n\t]$/.test(a.innerHTML),d&&!x("left",a)&&(b=" "),e&&!x("right",a)&&(c=" ")),{leading:b,trailing:c}}function z(a){var b,f,g,h,c=u(a);if(!o(a)&&!/A/.test(a.nodeName)&&/^\s*$/i.test(c))return a._replacement="",void 0;for(f=0;f<e.length;f++)if(g=e[f],w(a,g.filter)){if("function"!=typeof g.replacement)throw new TypeError("`replacement` needs to be a function that returns a string");h=y(a),(h.leading||h.trailing)&&(c=k(c)),b=h.leading+g.replacement.call(d,c,a)+h.trailing;break}a._replacement=b}var d,e,j,l,n,r,f=a("./lib/md-converters"),g=a("./lib/gfm-converters"),h=a("collapse-whitespace"),i="undefined"!=typeof window?window:this;j="undefined"==typeof document?a("jsdom").jsdom():document,l=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"],n=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],r=p()?i.DOMParser:q(),d=function(a,b){var h,c,d,i;if(b=b||{},"string"!=typeof a)throw new TypeError(a+" is not a string");for(a=a.replace(/(\d+)\. /g,"$1\\. "),c=s(a).body,d=t(c),e=f.slice(0),b.gfm&&(e=g.concat(e)),b.converters&&(e=b.converters.concat(e)),i=d.length-1;i>=0;i--)z(d[i]);return h=u(c),h.replace(/^[\t\r\n]+|[\t\r\n\s]+$/g,"").replace(/\n\s+\n/g,"\n\n").replace(/\n{3,}/g,"\n\n")},d.isBlock=m,d.isVoid=o,d.trim=k,d.outer=v,b.exports=d},{"./lib/gfm-converters":2,"./lib/md-converters":3,"collapse-whitespace":4,jsdom:7}],2:[function(a,b){"use strict";function d(a,b){var c=Array.prototype.indexOf.call(b.parentNode.childNodes,b),d=" ";return 0===c&&(d="| "),d+a+" |"}var e=/highlight highlight-(\S+)/;b.exports=[{filter:"br",replacement:function(){return"\n"}},{filter:["del","s","strike"],replacement:function(a){return"~~"+a+"~~"}},{filter:function(a){return"checkbox"===a.type&&"LI"===a.parentNode.nodeName},replacement:function(a,b){return(b.checked?"[x]":"[ ]")+" "}},{filter:["th","td"],replacement:function(a,b){return d(a,b)}},{filter:"tr",replacement:function(a,b){var f,g,h,c="",e={left:":--",right:"--:",center:":-:"};if("THEAD"===b.parentNode.nodeName)for(f=0;f<b.childNodes.length;f++)g=b.childNodes[f].attributes.align,h="---",g&&(h=e[g.value]||h),c+=d(h,b.childNodes[f]);return"\n"+a+(c?"\n"+c:"")}},{filter:"table",replacement:function(a){return"\n\n"+a+"\n\n"}},{filter:["thead","tbody","tfoot"],replacement:function(a){return a}},{filter:function(a){return"PRE"===a.nodeName&&a.firstChild&&"CODE"===a.firstChild.nodeName},replacement:function(a,b){return"\n\n```\n"+b.firstChild.textContent+"\n```\n\n"}},{filter:function(a){return"PRE"===a.nodeName&&"DIV"===a.parentNode.nodeName&&e.test(a.parentNode.className)},replacement:function(a,b){var c=b.parentNode.className.match(e)[1];return"\n\n```"+c+"\n"+b.textContent+"\n```\n\n"}},{filter:function(a){return"DIV"===a.nodeName&&e.test(a.className)},replacement:function(a){return"\n\n"+a+"\n\n"}}]},{}],3:[function(a,b){"use strict";b.exports=[{filter:"p",replacement:function(a){return"\n\n"+a+"\n\n"}},{filter:"br",replacement:function(){return"  \n"}},{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(a,b){var e,c=b.nodeName.charAt(1),d="";for(e=0;c>e;e++)d+="#";return"\n\n"+d+" "+a+"\n\n"}},{filter:"hr",replacement:function(){return"\n\n* * *\n\n"}},{filter:["em","i"],replacement:function(a){return"_"+a+"_"}},{filter:["strong","b"],replacement:function(a){return"**"+a+"**"}},{filter:function(a){var b=a.previousSibling||a.nextSibling,c="PRE"===a.parentNode.nodeName&&!b;return"CODE"===a.nodeName&&!c},replacement:function(a){return"`"+a+"`"}},{filter:function(a){return"A"===a.nodeName&&a.getAttribute("href")},replacement:function(a,b){var c=b.title?' "'+b.title+'"':"";return"["+a+"]("+b.getAttribute("href")+c+")"}},{filter:"img",replacement:function(a,b){var c=b.alt||"",d=b.getAttribute("src")||"",e=b.title||"",f=e?' "'+e+'"':"";return d?"!["+c+"]"+"("+d+f+")":""}},{filter:function(a){return"PRE"===a.nodeName&&"CODE"===a.firstChild.nodeName},replacement:function(a,b){return"\n\n    "+b.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},{filter:"blockquote",replacement:function(a){return a=this.trim(a),a=a.replace(/\n{3,}/g,"\n\n"),a=a.replace(/^/gm,"> "),"\n\n"+a+"\n\n"}},{filter:"li",replacement:function(a,b){var c,d,e;return a=a.replace(/^\s+/,"").replace(/\n/gm,"\n    "),c="*   ",d=b.parentNode,e=Array.prototype.indexOf.call(d.children,b)+1,c=/ol/i.test(d.nodeName)?e+".  ":"*   ",c+a}},{filter:["ul","ol"],replacement:function(a,b){var d,c=[];for(d=0;d<b.childNodes.length;d++)c.push(b.childNodes[d]._replacement);return/li/i.test(b.parentNode.nodeName)?"\n"+c.join("\n"):"\n\n"+c.join("\n")+"\n\n"}},{filter:function(a){return this.isBlock(a)},replacement:function(a,b){return"\n\n"+this.outer(b,a)+"\n\n"}},{filter:function(){return!0},replacement:function(a,b){return this.outer(b,a)}}]},{}],4:[function(a,b){"use strict";function f(a){return!(!a||!e[a.nodeName])}function g(a){return!(!a||!d[a.nodeName])}function h(a,b){var c,d,e,h,k,l;if(a.firstChild&&"PRE"!==a.nodeName){for("function"!=typeof b&&(b=f),c=null,d=!1,e=null,h=j(e,a);h!==a;){if(3===h.nodeType){if(k=h.data.replace(/[ \r\n\t]+/g," "),c&&!/ $/.test(c.data)||d||" "!==k[0]||(k=k.substr(1)),!k){h=i(h);continue}h.data=k,c=h}else{if(1!==h.nodeType){h=i(h);continue}b(h)||"BR"===h.nodeName?(c&&(c.data=c.data.replace(/ $/,"")),c=null,d=!1):g(h)&&(c=null,d=!0)}l=j(e,h),e=h,h=l}c&&(c.data=c.data.replace(/ $/,""),c.data||i(c))}}function i(a){var b=a.nextSibling||a.parentNode;return a.parentNode.removeChild(a),b}function j(a,b){return a&&a.parentNode===b||"PRE"===b.nodeName?b.nextSibling||b.parentNode:b.firstChild||b.nextSibling||b.parentNode}var e,d=a("void-elements");Object.keys(d).forEach(function(a){d[a.toUpperCase()]=1}),e={},a("block-elements").forEach(function(a){e[a.toUpperCase()]=1}),b.exports=h},{"block-elements":5,"void-elements":6}],5:[function(a,b){b.exports=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},{}],6:[function(a,b){b.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},{}],7:[function(){},{}]},{},[1])(1)});